#!/usr/bin/env rundklet
add_note <<~Note
  Base dklet settings and commands
Note

register_net
register :vol_root, '/Volumes/docker' # Mac tested

task :main, preclean: false do
  puts "Welcome to dklet"
  invoke :help
end

custom_commands do
  desc 'init', 'init dklet'
  def init
    invoke :netup, [], {}

    system <<~Desc
      # ensure global volumes root exists
      sudo mkdir -p #{fetch(:vol_root)}
    Desc

    puts "dklet ready to fly with you!"
  end
end
